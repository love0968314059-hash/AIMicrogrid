# Microgrid Digital Twin System

This project implements a **Microgrid Digital Twin** with an **Adaptive Reinforcement Learning (RL)** Energy Management System. It includes a 3D visualization and a Natural Language Interface.

## Features
1.  **Digital Twin Environment:** Simulates Battery, Solar, Wind, Load, and Grid Price dynamics.
2.  **Adaptive Control:** Uses PPO (Proximal Policy Optimization) to manage energy under prediction uncertainty.
3.  **3D Visualization:** Interactive Plotly-based 3D view of the grid topology and state.
4.  **Natural Language Interface:** Ask the system questions like "What is the battery status?".

## ðŸš€ How to Run in Google Colab

Since this system involves an interactive dashboard, we use **Streamlit**.

### Step 1: Copy the Code
Create a new Colab notebook and copy the contents of `microgrid_system.py` and `app.py` into cells (or upload the files).

### Step 2: Install Dependencies
Run the following cell in Colab:
```bash
!pip install gymnasium stable-baselines3 shimmy plotly pandas streamlit pyngrok
```

### Step 3: Run the App with Tunneling
To view the GUI from Colab, you need to tunnel the port.

```python
from pyngrok import ngrok

# 1. Terminate open tunnels if any
ngrok.kill()

# 2. Set your authtoken (Optional but recommended)
# ngrok.set_auth_token("YOUR_AUTHTOKEN_HERE") 

# 3. Open a HTTP tunnel on port 8501
public_url = ngrok.connect(8501)
print(f"ðŸš€ Application is running at: {public_url}")

# 4. Run Streamlit in the background
!streamlit run app.py &>/dev/null&
```

Click the link generated by `ngrok` to see the full 3D Digital Twin Interface.

## ðŸ“‚ File Structure
- `microgrid_system.py`: Core logic for Environment, RL Agent, and Simulation.
- `app.py`: Streamlit Dashboard wrapper for visualization and interaction.
